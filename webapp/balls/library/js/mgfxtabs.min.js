var MGFX=MGFX||{};MGFX.Rotater=new Class({Implements:[Options,Events],options:{slideInterval:4000,transitionDuration:1000,startIndex:0,autoplay:true,hover:true},initialize:function(b,a){this.setOptions(a);this.slides=$$(b);this.createFx();this.showSlide(this.options.startIndex);if(this.slides.length<2){this.options.autoplay=false}if(this.options.autoplay){this.autoplay()}if(this.options.hover){this.slides.addEvent("mouseenter",function(){this.stop()}.bind(this))}return this},toElement:function(){return this.container},createFx:function(){if(!this.slideFx){this.slideFx=new Fx.Elements(this.slides,{duration:this.options.transitionDuration})}this.slides.each(function(a){a.setStyle("opacity",0)})},showSlide:function(b){var a={};this.slides.each(function(c,d){if(d==b&&d!=this.currentSlide){a[d.toString()]={opacity:1}}else{a[d.toString()]={opacity:0}}},this);this.fireEvent("onShowSlide",b);this.currentSlide=b;this.slideFx.start(a);return this},autoplay:function(){this.slideshowInt=this.rotate.periodical(this.options.slideInterval,this);this.fireEvent("onAutoPlay");return this},stop:function(){$clear(this.slideshowInt);this.fireEvent("onStop");return this},rotate:function(){current=this.currentSlide;next=(current+1>=this.slides.length)?0:current+1;this.showSlide(next);this.fireEvent("onRotate",next);return this}});MGFX.Tabs=new Class({Extends:MGFX.Rotater,options:{slideInterval:6000,transitionDuration:500,autoplay:false,hash:true},initialize:function(b,c,a){this.setOptions(a);this.tabs=$$(b+" li");this.tabsA=$$(b+" a");this.createTabs();if(this.options.hash&&window.location.hash){var d=window.location.hash.substring(1);this.tabsA.each(function(f,e){if(f.id==d){a.startIndex=e}})}this.parent(c,a);return this},createTabs:function(){this.tabsA.each(function(b,a){b.addEvent("click",function(c){c.stop();this.showSlide(a);this.stop()}.bind(this))}.bind(this))},activateTab:function(a){this.tabs.removeClass("active");this.tabsA.removeClass("active");this.tabs[a].addClass("active");this.tabsA[a].addClass("active")},showSlide:function(a){if(a==this.currentSlide){return}this.activateTab(a);this.parent(a);return this}});